{% extends 'base.html.twig' %}
{% block title %}Mise à jour du mot de passe{% endblock %}

{% block body %}

    <main class="page-wrapper bg-secondary">
        <!-- Page content-->
        <div class="d-flex flex-column align-items-center position-relative h-100 px-3 pt-5">
            <!-- Home button-->
            <a class="text-nav btn btn-icon bg-light border rounded-circle position-absolute top-0 end-0 zindex-2 p-0 mt-3 me-3 mt-sm-4 me-sm-4"
               href={{ path('app_home')}} data-bs-toggle="tooltip" data-bs-placement="left" title="Retour au site">
                <i class="ai-home"></i>
            </a>
            <!-- Content-->
            <div class="mt-auto" style="max-width: 700px;">
                <h1 class="pt-3 pb-2 pb-lg-3 text-primary">
                    <i class="ai-lock-open lead pe-1 me-2"></i>
                    Réinitialisation du mot de passe
                </h1>

                {% include('partials/_flash-messages.html.twig') %}

                <div class="card dark-mode border-0 bg-dark">
                    {{ form_start(form, {'attr': {'class': 'card-body needs-validation', 'novalidate': ''}}) }}

                    <fieldset class="mb-4">

                        <div class="password-toggle">
                            {{ form_widget(form.password, {'attr': {'class': 'form-control form-control-lg ps-5'}}) }}
                            <i class="ai-lock-closed fs-lg position-absolute top-50 start-0 translate-middle-y text-light opacity-80 ms-3"></i>

                            {% if form_errors(form.password) %}
                                <label class="password-toggle-btn" aria-label="Show/hide password">
                                    <input class="password-toggle-check" type="checkbox" pattern=".{8,}">
                                    <span class="password-toggle-indicator"></span>
                                </label>
                            {% endif %}
                        </div>

                        {{ form_errors(form.password) }}

                    </fieldset>

                    <button class="btn btn-primary" type="submit">
                        <i class="ai-check-alt ms-n1 me-2"></i>
                        Mettre à jour mon mot de passe
                    </button>

                    {{ form_end(form) }}
                </div>
            </div>
            <!-- Copyright-->
            <p class="w-100 fs-sm pt-5 mt-auto mb-5" style="max-width: 700px;">
                <span class="text-muted">&copy; Tous droits réservés. Réalisé par</span>
                <a class="nav-link d-inline-block p-0 ms-1" href="https://github/Papoel" target="_blank">
                    Papoel
                </a>
            </p>
        </div>
    </main>


{% endblock %}
